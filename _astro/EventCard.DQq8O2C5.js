import{j as e}from"./jsx-runtime.CRkqtJS5.js";import{r}from"./index.B52nOzfP.js";import{I as g}from"./ImgViewer.DSjU8P2p.js";import{c as p}from"./index.DtyLJM_g.js";import"./iconBase.BimQ2q1R.js";function j({src:s,alt:i,url:t,from:c}){const[o,a]=r.useState(!1),[d,f]=r.useState(!1),n=r.useRef(null),m=r.useCallback(()=>{t||o||a(!0)},[t,o]);function u(){a(!1)}return r.useEffect(()=>{if(!n.current)return;function l(){window.scrollY+window.innerHeight>n.current.offsetTop&&(f(!0),window.removeEventListener("scroll",()=>{}))}return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`relative ${c==="left"?"transition-from-left":"transition-from-right"} ${d?"loaded":""}`,onClick:()=>m(),role:t?void 0:"button",ref:n,children:[e.jsx("img",{src:s,alt:i,className:"w-full md:size-96"}),t&&e.jsx("a",{href:t,"aria-label":"Abrir vinculo de la imagen",className:"absolute right-0 bottom-0 py-3 px-4 rounded-tl-lg bg-cyan-400/80 hover:bg-cyan-500/80 text-lg",target:"_blank",children:e.jsx(p,{})})]}),!t&&e.jsx(g,{src:s,alt:i,open:o,close:u})]})}export{j as default};
